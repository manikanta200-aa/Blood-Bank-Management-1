<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BloodSave - Blood Bank Management System</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');

        /* Modern Flat Design Color Palette - Red Theme */
        :root {
            --primary-red: #e74c3c;   /* Alizarin */
            --dark-red: #c0392b;    /* Pomegranate */
            --accent-green: #2ecc71; /* Emerald */
            --accent-blue: #3498db;  /* Peter River (for secondary emphasis if needed) */
            --light-bg: #ecf0f1;    /* Clouds */
            --medium-gray: #bdc3c7; /* Silver */
            --dark-text: #2c3e50;    /* Wet Asphalt */
            --white: #ffffff;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--light-bg);
            color: var(--dark-text);
        }

        .container {
            max-width: 1200px;
            margin: 35px auto;
            background: var(--white);
            border-radius: 15px;
            box-shadow: 0 8px 36px rgba(44, 62, 80, 0.09); /* Darker shadow for contrast */
            overflow: hidden;
            border: 1px solid var(--medium-gray);
        }

        .header {
            background: var(--primary-red); /* Changed to primary red */
            color: white;
            padding: 2.5rem 1rem 2rem 1rem;
            text-align: center;
            border-bottom: 4px solid var(--dark-red); /* Changed to dark red */
        }
        .header h1 {
            font-size: 3em;
            font-weight: 700;
            margin-bottom: 0.5em;
            letter-spacing: -1px;
        }

        .header p {
            font-size: 1.2em;
            color: #f7e0e0; /* Lighter shade of red for description */
        }

        .nav-tabs {
            display: flex;
            background: #fdfefe; /* Very light background for tabs */
            border-bottom: 2px solid var(--medium-gray);
        }
        .nav-tab {
            flex: 1;
            text-align: center;
            padding: 18px;
            background: none;
            border: none;
            font-size: 1.04em;
            font-weight: 600;
            color: var(--dark-red); /* Changed to dark red */
            cursor: pointer;
            border-radius: 0;
            outline: none;
            transition: background 0.2s, color 0.2s, border-bottom 0.2s;
        }

        .nav-tab.active, .nav-tab:hover {
            background: #fde8e8; /* Lighter red on hover/active */
            color: var(--primary-red); /* Changed to primary red */
            border-bottom: 2px solid var(--primary-red); /* Changed to primary red */
        }

        .content {
            padding: 35px 32px;
            background: var(--white);
        }

        .stats-grid {
            display: flex;
            gap: 25px;
            margin-bottom: 32px;
            flex-wrap: wrap;
        }

        .stat-card {
            background: #faebea; /* Light reddish background */
            color: var(--primary-red); /* Changed to primary red */
            padding: 2em 1.4em;
            border-radius: 13px;
            box-shadow: 0 2px 14px rgba(231, 76, 60, 0.07); /* Shadow with primary red tint */
            flex: 1;
            min-width: 210px;
            text-align: center;
            margin-bottom: 8px;
            transition: transform .18s;
        }

        .stat-card:hover {
            transform: translateY(-5px); /* Lift up slightly */
        }

        .stat-number {
            font-size: 2.6em;
            font-weight: 700;
            color: var(--dark-red); /* Changed to dark red */
            margin-bottom: .3em;
        }

        .stat-label {
            font-size: 1.07em;
            color: #7f8c8d; /* Concrete gray */
        }

        .table-container {
            overflow-x: auto;
            border-radius: 11px;
            margin-top: 18px;
            box-shadow: 0 3px 14px rgba(44, 62, 80, 0.05);
            background: #fdfefe; /* Very light background for tables */
            border: 1px solid #e0e6eb;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 24px;
            font-size: 1.13em;
        }

        th, td {
            padding: 18px;
            text-align: left;
            border-bottom: 1px solid #eef3f7; /* Lighter border for tables */
        }

        th {
            background: #f5e4e3; /* Light reddish header */
            color: #a34639; /* Darker red for header text */
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-size: 0.93em;
        }

        tr {
            transition: background 0.25s;
        }

        tr:hover {
            background: #fbeae9; /* Lighter red on row hover */
        }

        .blood-type {
            display: inline-block;
            padding: 7px 18px;
            border-radius: 13px;
            color: var(--white);
            font-weight: 600;
            font-size: 0.97em;
            background: var(--primary-red); /* Changed to primary red */
        }

        .status {
            padding: 7px 15px;
            border-radius: 11px;
            font-weight: 700;
            font-size: 0.98em;
            text-transform: uppercase;
            letter-spacing: 0.6px;
        }

        .status.available {
            background: #e6ffee; /* Lighter green */
            color: var(--accent-green);
        }

        .status.low {
            background: #fdfbe8; /* Light yellow/orange */
            color: #f1c40f; /* Sunflower yellow */
        }

        .status.critical {
            background: #ffebe9; /* Lighter red */
            color: var(--primary-red); /* Using primary red for critical status */
        }

        .btn {
            background: var(--dark-red); /* Changed to dark red */
            color: white;
            border: none;
            padding: 13px 28px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            transition: background 0.18s, transform .18s;
        }
        .btn:hover {
            background: var(--primary-red); /* Changed to primary red */
            transform: translateY(-2px);
        }
        .btn-danger {
            background: var(--accent-red); /* Already red, keeping consistency */
        }
        .btn-danger:hover {
            background: #c0392b; /* Pomegranate red */
        }
        .btn-secondary {
            background: var(--medium-gray);
            color: var(--dark-text);
        }
        .btn-secondary:hover {
            background: #7f8c8d; /* Concrete */
        }

        input, select, textarea {
            width: 100%;
            padding: 13px 17px;
            border: 2px solid #f5e4e3; /* Lighter reddish border */
            border-radius: 10px;
            font-size: 1.04em;
            background: #fcfdfe; /* Very light input background */
            font-family: 'Inter', sans-serif;
            margin-bottom: 6px;
            transition: border-color .2s, background .2s;
        }
        input:focus, select:focus, textarea:focus {
            border-color: var(--primary-red); /* Changed to primary red */
            background: var(--white);
            outline: none;
        }

        label {
            font-weight: 600;
            color: #5d6d7e; /* Wet Asphalt light */
            margin-bottom: 8px;
            display: block;
            text-transform: uppercase;
            font-size: 1em;
        }

        .form-group {
            margin-bottom: 18px;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 3;
            left: 0; top: 0; width: 100%; height: 100%;
            background: rgba(44, 62, 80, 0.3); /* Darker, more muted overlay */
        }
        .modal-content {
            background: var(--light-bg); /* Use light background for modal */
            padding: 38px 40px;
            border-radius: 10px;
            margin: 5% auto;
            width: 95%; max-width: 420px;
            position: relative;
            box-shadow: 0 8px 28px rgba(231, 76, 60, 0.15); /* More subtle shadow with red tint */
            border: 1.5px solid var(--medium-gray);
        }
        .close {
            position: absolute;
            right: 18px; top: 18px;
            color: #7f8c8d; /* Concrete gray */
            font-size: 2rem;
            cursor: pointer;
            font-weight: 700;
        }
        .close:hover {
            color: var(--primary-red); /* Changed to primary red */
            background: #ffeaea;
            border-radius: 50%;
        }

        /* Alert styles */
        .alert {
            padding: 15px 24px;
            border-radius: 8px;
            font-size: 1.05em;
            font-weight: 500;
            margin-bottom: 18px;
            border-left: 6px solid #aaa;
            background: #faebea; /* Light reddish alert */
            color: #c0392b; /* Dark red for alert text */
        }
        .alert-success {
            background: #e6ffee;
            color: var(--accent-green);
            border-left: 6px solid #27ae60; /* Nephritis green */
        }
        .alert-error {
            background: #ffebe9;
            color: var(--primary-red); /* Using primary red for error alert */
            border-left: 6px solid #e74c3c; /* Alizarin red */
        }

        /* Footer styles */
        .footer {
            background: var(--dark-red); /* Changed to dark red */
            color: #f7e0e0;
            padding: 44px 30px 12px 30px;
            margin-top: 55px;
        }
        .footer-section h3 {
            color: var(--white);
            font-weight: 700;
            font-size: 1.3em;
            margin-bottom: 13px;
        }
        .footer-section p, .footer-section li {
            line-height: 1.7;
            font-size: 1em;
        }
        .footer-bottom {
            text-align: center;
            margin-top: 25px;
            padding-top: 10px;
            font-size: 1em;
            color: #ebc0bd; /* Lighter red for copyright */
            border-top: 1px solid #96281e; /* Darker red for footer border */
        }

        /* Responsive */
        @media (max-width: 800px) {
            .stats-grid { flex-direction: column; }
            .content { padding: 15px; }
            .header h1 { font-size: 1.8em; }
            .modal-content { width: 99%; max-width: 98vw; padding: 12px 6px; }
        }
        @media (max-width: 500px) {
            .nav-tabs { flex-direction: column; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🩸 BloodSave</h1>
            <p>Advanced Blood Bank Management • Saving Lives Through Innovation</p>
        </div>

        <div class="nav-tabs">
            <button class="nav-tab active" onclick="showTab('donors')">Donors</button>
            <button class="nav-tab" onclick="showTab('inventory')">Inventory</button>
            <button class="nav-tab" onclick="showTab('requests')">Requests</button>
        </div>

        <div class="content">
            <div id="donors" class="tab-content active">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <h2>Donor Management</h2>
                    <button class="btn" onclick="showAddDonorModal()">Add New Donor</button>
                </div>

                <div class="search-box">
                    <input type="text" placeholder="Search donors..." id="donorSearch" onkeyup="searchDonors()">
                </div>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Donor ID</th>
                                <th>Name</th>
                                <th>Blood Type</th>
                                <th>Phone</th>
                                <th>Email</th>
                                <th>Last Donation</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="donorsTable">
                        </tbody>
                    </table>
                </div>
            </div>

            <div id="inventory" class="tab-content">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <h2>Blood Inventory</h2>
                    <button class="btn" onclick="showAddBloodModal()">Add Blood Unit</button>
                </div>

                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Blood Type</th>
                                <th>Donor Name</th>
                                <th>Collection Date</th>
                                <th>Expiry Date</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="inventoryTable">
                        </tbody>
                    </table>
                </div>
            </div>

            <div id="requests" class="tab-content">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <h2>Blood Requests</h2>
                    <button class="btn" onclick="showAddRequestModal()">New Request</button>
                </div>

                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Patient Name</th>
                                <th>Blood Type</th>
                                <th>Units Needed</th>
                                <th>Hospital</th>
                                <th>Priority</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="requestsTable">
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <div id="donorModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('donorModal')">&times;</span>
            <h2>Add New Donor</h2>
            <form id="donorForm">
                <div class="form-row">
                    <div class="form-group">
                        <label for="donorName">Full Name</label>
                        <input type="text" id="donorName" required>
                    </div>
                    <div class="form-group">
                        <label for="donorBloodType">Blood Type</label>
                        <select id="donorBloodType" required>
                            <option value="">Select Blood Type</option>
                            <option value="A+">A+</option>
                            <option value="A-">A-</option>
                            <option value="B+">B+</option>
                            <option value="B-">B-</option>
                            <option value="AB+">AB+</option>
                            <option value="AB-">AB-</option>
                            <option value="O+">O+</option>
                            <option value="O-">O-</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="donorPhone">Phone Number</label>
                        <input type="tel" id="donorPhone" required>
                    </div>
                    <div class="form-group">
                        <label for="donorEmail">Email</label>
                        <input type="email" id="donorEmail" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="donorAddress">Address</label>
                    <textarea id="donorAddress" rows="3" required></textarea>
                </div>
                <button type="submit" class="btn">Add Donor</button>
            </form>
        </div>
    </div>

    <div id="bloodModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('bloodModal')">&times;</span>
            <h2>Add Blood Unit</h2>
            <form id="bloodForm">
                <div class="form-row">
                    <div class="form-group">
                        <label for="bloodType">Blood Type</label>
                        <select id="bloodType" required>
                            <option value="">Select Blood Type</option>
                            <option value="A+">A+</option>
                            <option value="A-">A-</option>
                            <option value="B+">B+</option>
                            <option value="B-">B-</option>
                            <option value="AB+">AB+</option>
                            <option value="AB-">AB-</option>
                            <option value="O+">O+</option>
                            <option value="O-">O-</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="donorSelect">Select Donor</label>
                        <select id="donorSelect" required>
                            <option value="">Select Donor</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="collectionDate">Collection Date</label>
                    <input type="date" id="collectionDate" required>
                </div>
                <button type="submit" class="btn">Add Blood Unit</button>
            </form>
        </div>
    </div>

    <div id="requestModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('requestModal')">&times;</span>
            <h2>New Blood Request</h2>
            <form id="requestForm">
                <div class="form-row">
                    <div class="form-group">
                        <label for="patientName">Patient Name</label>
                        <input type="text" id="patientName" required>
                    </div>
                    <div class="form-group">
                        <label for="requestBloodType">Blood Type</label>
                        <select id="requestBloodType" required>
                            <option value="">Select Blood Type</option>
                            <option value="A+">A+</option>
                            <option value="A-">A-</option>
                            <option value="B+">B+</option>
                            <option value="B-">B-</option>
                            <option value="AB+">AB+</option>
                            <option value="AB-">AB-</option>
                            <option value="O+">O+</option>
                            <option value="O-">O-</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="unitsNeeded">Units Needed</label>
                        <input type="number" id="unitsNeeded" min="1" required>
                    </div>
                    <div class="form-group">
                        <label for="priority">Priority</label>
                        <select id="priority" required>
                            <option value="">Select Priority</option>
                            <option value="Low">Low</option>
                            <option value="Medium">Medium</option>
                            <option value="High">High</option>
                            <option value="Critical">Critical</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="hospital">Hospital</label>
                    <input type="text" id="hospital" required>
                </div>
                <button type="submit" class="btn">Submit Request</button>
            </form>
        </div>
    </div>

    <div class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3>About BloodSave</h3>
                <p>BloodSave is a cutting-edge blood bank management system designed to streamline blood donation processes and save lives through efficient inventory management. Our platform connects donors, hospitals, and blood banks in a seamless digital ecosystem.</p>
                <p>Founded in 2024, we are committed to revolutionizing healthcare through innovative technology solutions that make blood donation and distribution more accessible and efficient.</p>
            </div>
            <div class="footer-section">
                <h3>Contact Us</h3>
                <ul>
                    <li><strong>Address:</strong> 123 Healthcare Avenue, Medical District, New York, NY 10001</li>
                    <li><strong>Phone:</strong> +1 (555) 123-BLOOD</li>
                    <li><strong>Email:</strong> contact@BloodSave.com</li>
                    <li><strong>Emergency Hotline:</strong> +1 (555) 911-HELP</li>
                    <li><strong>Office Hours:</strong> 24/7 Emergency Support</li>
                    <li><strong>Support:</strong> support@BloodSave.com</li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 BloodSave. All rights reserved. | Saving Lives Through Technology</p>
        </div>
    </div>

    <script>
        const API_BASE = 'https://blood-bank-main.onrender.com/api';

        function showTab(tabName) {
            const tabs = document.querySelectorAll('.tab-content');
            const navTabs = document.querySelectorAll('.nav-tab');
            tabs.forEach(tab => tab.classList.remove('active'));
            navTabs.forEach(navTab => navTab.classList.remove('active'));
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
            if (tabName === 'donors') loadDonors();
            if (tabName === 'inventory') loadInventory();
            if (tabName === 'requests') loadRequests();
        }

        function showAddDonorModal() {
            document.getElementById('donorModal').style.display = 'block';
        }

        function showAddBloodModal() {
            document.getElementById('bloodModal').style.display = 'block';
            loadDonorDropdown();
        }

        function showAddRequestModal() {
            document.getElementById('requestModal').style.display = 'block';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.style.display = 'none';
            }
        }

        async function loadDonorDropdown() {
            const donors = await apiCall('/donors');
            if (donors) {
                const select = document.getElementById('donorSelect');
                select.innerHTML = '<option value="">Select Donor</option>' +
                    donors.map(donor =>
                        `<option value="${donor._id}">${donor.name} (${donor.bloodType}) - ${donor.phone}</option>`
                    ).join('');
            }
        }

        async function apiCall(endpoint, method = 'GET', data = null) {
            const options = {
                method,
                headers: {
                    'Content-Type': 'application/json',
                }
            };
            if (data) {
                options.body = JSON.stringify(data);
            }
            try {
                const response = await fetch(`${API_BASE}${endpoint}`, options);
                return await response.json();
            } catch (error) {
                console.error('API call failed:', error);
                showAlert('Connection error. Please check if the server is running.', 'error');
                return null;
            }
        }

        async function loadDonors() {
            const donors = await apiCall('/donors');
            if (!donors) return;
            const tbody = document.getElementById('donorsTable');
            tbody.innerHTML = donors.map(donor => `
                <tr>
                    <td><small>${donor._id}</small></td>
                    <td>${donor.name}</td>
                    <td><span class="blood-type">${donor.bloodType}</span></td>
                    <td>${donor.phone}</td>
                    <td>${donor.email}</td>
                    <td>${donor.lastDonation ? new Date(donor.lastDonation).toLocaleDateString() : 'Never'}</td>
                    <td>
                        <button class="btn btn-danger" onclick="deleteDonor('${donor._id}')">Delete</button>
                    </td>
                </tr>
            `).join('');
        }

        async function loadInventory() {
            const inventory = await apiCall('/inventory');
            const donors = await apiCall('/donors');
            if (!inventory || !donors) return;
            const donorMap = {};
            donors.forEach(donor => {
                donorMap[donor._id] = donor.name;
            });
            const tbody = document.getElementById('inventoryTable');
            tbody.innerHTML = inventory.map(item => `
                <tr>
                    <td><span class="blood-type">${item.bloodType}</span></td>
                    <td>${donorMap[item.donorId] || 'Unknown Donor'}</td>
                    <td>${new Date(item.collectionDate).toLocaleDateString()}</td>
                    <td>${new Date(item.expiryDate).toLocaleDateString()}</td>
                    <td><span class="status ${item.status.toLowerCase()}">${item.status}</span></td>
                    <td>
                        <button class="btn btn-danger" onclick="deleteBloodUnit('${item._id}')">Delete</button>
                    </td>
                </tr>
            `).join('');
        }

        async function loadRequests() {
            const requests = await apiCall('/requests');
            if (!requests) return;
            const tbody = document.getElementById('requestsTable');
            tbody.innerHTML = requests.map(request => `
                <tr>
                    <td>${request.patientName}</td>
                    <td><span class="blood-type">${request.bloodType}</span></td>
                    <td>${request.unitsNeeded}</td>
                    <td>${request.hospital}</td>
                    <td>${request.priority}</td>
                    <td><span class="status ${request.status.toLowerCase()}">${request.status}</span></td>
                    <td>
                        ${request.status === 'Pending' ?
                            `<button class="btn" onclick="fulfillRequest('${request._id}')">Fulfill</button>` :
                            ''
                        }
                        <button class="btn btn-danger" onclick="deleteRequest('${request._id}')">Delete</button>
                    </td>
                </tr>
            `).join('');
        }

        document.getElementById('donorForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const donorData = {
                name: document.getElementById('donorName').value,
                bloodType: document.getElementById('donorBloodType').value,
                phone: document.getElementById('donorPhone').value,
                email: document.getElementById('donorEmail').value,
                address: document.getElementById('donorAddress').value
            };
            const result = await apiCall('/donors', 'POST', donorData);
            if (result && result.success) {
                showAlert('Donor added successfully!', 'success');
                closeModal('donorModal');
                document.getElementById('donorForm').reset();
                loadDonors();
            }
        });

        document.getElementById('bloodForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const bloodData = {
                bloodType: document.getElementById('bloodType').value,
                donorId: document.getElementById('donorSelect').value,
                collectionDate: document.getElementById('collectionDate').value
            };
            const result = await apiCall('/inventory', 'POST', bloodData);
            if (result && result.success) {
                showAlert('Blood unit added successfully!', 'success');
                closeModal('bloodModal');
                document.getElementById('bloodForm').reset();
                loadInventory();
            }
        });

        document.getElementById('requestForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const requestData = {
                patientName: document.getElementById('patientName').value,
                bloodType: document.getElementById('requestBloodType').value,
                unitsNeeded: document.getElementById('unitsNeeded').value,
                priority: document.getElementById('priority').value,
                hospital: document.getElementById('hospital').value
            };
            const result = await apiCall('/requests', 'POST', requestData);
            if (result && result.success) {
                showAlert('Request submitted successfully!', 'success');
                closeModal('requestModal');
                document.getElementById('requestForm').reset();
                loadRequests();
            }
        });

        async function deleteDonor(id) {
            if (confirm('Are you sure you want to delete this donor?')) {
                const result = await apiCall(`/donors/${id}`, 'DELETE');
                if (result && result.success) {
                    showAlert('Donor deleted successfully!', 'success');
                    loadDonors();
                }
            }
        }

        async function deleteBloodUnit(id) {
            if (confirm('Are you sure you want to delete this blood unit?')) {
                const result = await apiCall(`/inventory/${id}`, 'DELETE');
                if (result && result.success) {
                    showAlert('Blood unit deleted successfully!', 'success');
                    loadInventory();
                }
            }
        }

        async function deleteRequest(id) {
            if (confirm('Are you sure you want to delete this request?')) {
                const result = await apiCall(`/requests/${id}`, 'DELETE');
                if (result && result.success) {
                    showAlert('Request deleted successfully!', 'success');
                    loadRequests();
                }
            }
        }

        async function fulfillRequest(id) {
            if (confirm('Mark this request as fulfilled?')) {
                const result = await apiCall(`/requests/${id}`, 'PUT', { status: 'Fulfilled' });
                if (result && result.success) {
                    showAlert('Request fulfilled successfully!', 'success');
                    loadRequests();
                }
            }
        }

        function searchDonors() {
            const searchTerm = document.getElementById('donorSearch').value.toLowerCase();
            const rows = document.querySelectorAll('#donorsTable tr');
            rows.forEach(row => {
                const text = row.textContent.toLowerCase();
                row.style.display = text.includes(searchTerm) ? '' : 'none';
            });
        }

        function showAlert(message, type) {
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type}`;
            alertDiv.textContent = message;
            document.querySelector('.content').insertBefore(alertDiv, document.querySelector('.content').firstChild);
            setTimeout(() => {
                alertDiv.remove();
            }, 5000);
        }

        document.addEventListener('DOMContentLoaded', () => {
            showTab('donors');
        });
    </script>
</body>
</html>